#pragma once

#include <glm/glm.hpp>
#include <string>
#include <list>
#include <iostream>
#include <cmath>

class Perlin {
public:
    Perlin(float noise);

    virtual ~Perlin();
    void random();
    float noise_normal(float x, float y, int sx, int sy, glm::vec3 &normal);
private:
	float m_noise;
    int seed[512] = {128, 152, 248, 243, 171,  69, 247,  43, 130, 200, 149, 188,   0,
                158, 204,  96, 163,  91, 109, 222, 104, 216, 229,  81, 195, 210,
                64,  79, 241,  41,  13,  27, 210, 228, 167, 250, 152,  33, 202,
                179, 219, 185,  77, 147, 133, 221,  27,  68, 234, 116, 230,  52,
                134, 231,  97,  87,  24,  94,  68, 141,  32,  16, 234,  76, 109,
                116, 129, 225, 252,  78, 233, 127, 193,  75, 116, 105, 221, 102,
                80, 215, 145,  96, 146, 156, 227,  76, 145, 121,  73, 241, 167,
                57, 219, 117, 102, 234,  93, 238,  67,  14, 217, 239, 106, 213,
                5, 195, 137,  24,  81, 236, 214,  71,  74, 193,  97,  55, 104,
                199,  70, 211,  30, 244, 189, 149,  58, 244, 235, 121, 107,  13,
                174, 199,  94, 214,  79, 136, 163,  31, 191, 214, 172,  51,  68,
                130,  29,  18,  62,  32, 179,  58, 246, 211, 107, 237,  46, 147,
                219,  47, 191, 230,  71,  19, 171, 223, 187,   6,  75,  71, 183,
                147, 125, 167, 210,   0, 237,   3, 108, 147, 176,  86,  34, 177,
                195, 175, 242,  12, 159,  68, 226, 119,  28,  45,  27, 208, 161,
                213,  94, 219,  29,   6, 103,  29, 248, 145,  48, 164, 128, 204,
                161, 171, 125,  98, 117, 131, 109,  51, 190, 232, 136, 143, 117,
                98, 174, 217, 139,  52, 213, 178, 202,   6, 160,  71, 220,  82,
                172, 147,  74, 114, 201, 219, 129, 142,   8,  96, 145,  50,  18,
                66,  33, 106,  16, 146,  12, 223, 204,   6, 124, 145, 109,  55,
                109, 134, 227,  29, 124,  79,  89, 230, 188,  23, 165,  53,  45,
                19, 174, 228, 140, 138,  10, 101, 193, 253,  53,  80,  98, 192,
                125,  93, 212,  88, 241,  18,  10,  10, 225, 226,  35,  17,  63,
                83, 194,  73, 114, 117,  49, 171, 184, 102,  11, 241,  50, 195,
                144, 103, 151, 222, 118, 175, 119, 131, 117,  90,  40,  56, 242,
                188, 133, 188, 253, 176,  12, 163, 195,  44, 211, 125, 181, 210,
                172, 254, 203,  44,  77,  14, 207,  41, 255,  79, 221, 111, 186,
                184,  86, 182,   7, 222,  85, 182, 119,  90,  11,  65,   4, 242,
                188, 199, 112, 183,   3, 187, 222, 123, 128, 122, 184, 114,  85,
                78, 226, 177, 201,  25,  42, 182,  69, 230,   1, 178,  40, 190,
                223, 190,  75, 221, 180, 127, 147, 137, 234, 143, 110, 196, 167,
                209, 109, 170, 109,  86, 142, 189, 139, 100,  27,  35, 113,  23,
                88, 255, 187, 236,  37, 173,  52, 242, 132,  66,  18, 131, 254,
                15, 140,  82,  58,  54, 167, 202,   9,  67, 197, 175, 200,   6,
                130,  22, 151, 226, 215, 174, 176, 165,   4, 151,  17, 110,   9,
                20, 167,  81, 164, 149, 191, 240, 145, 219, 126, 121, 166,  32,
                247, 132, 241,  58, 134,  42, 130, 123, 144, 248,   9, 156, 106,
                198, 134,  96,  76, 172, 200, 184, 251,  84,  94, 223, 115, 255,
                191, 148, 178, 208, 159,  94, 148, 236, 220, 223,  15, 149, 233,
                126, 117, 250, 181, 154};
};
